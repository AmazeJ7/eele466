library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_ARITH.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;

entity rsr is
  port(clk            : in   std_logic;
       rsr_input   : in   std_logic_vector (35 downto 0);
       rsr_output : out std_logic_vector (35 downto 0));
end entity;

architecture rsr_arch of rsr is

  component init_guess
    port(clk : in   std_logic;
            x   : in   std_logic_vector(35 downto 0);
            y0 : out std_logic_vector(35 downto 0));
  end component;

  component newton
    port(clk  : in std_logic;
	        y0 : in  std_logic_vector(35 downto 0);
            x   : in  std_logic_vector(35 downto 0);
            y   : out std_logic_vector(35 downto 0));
  end component;

  signal y0_temp : std_logic_vector(35 downto 0);

  begin

    A0: init_guess port map (clk, rsr_input, y0_temp);
    A1: newton port map (clk, rsr_input, y0_temp, rsr_output);

end architecture;
